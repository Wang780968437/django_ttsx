{%extends 'base.html'%}
{%block head%}

    <script>
		$(function () {
              var name_error = false;
              var pwd_error = false;
              var yzm_error = false;
              if({{ error_name }} == 1){
                  $('.user_error').html('用户名错误').show();
              }

              if({{ error_pwd }} == 1){
                  $('.pwd_error').html('密码错误').show();
              }

              if({{ error_yzm }} == 1){
                  $('#yzm_error').html('验证码错误').show();
              }

              $('.name_input').blur(function () {
                  if($.trim($('.name_input').val())==''){
                      $('.user_error').html('请输入用户名').show();
                      name_error = true;
                  }else{
                      $('.user_error').hide();
                      name_error = false;
                  }
              });

              $('.pass_input').blur(function () {
                  if($.trim($('.pass_input').val())==''){
                      $('.pwd_error').html('请输入密码').show();
                      pwd_error = true;
                  }else{
                      $('.pwd_error').hide();
                      pwd_error = false;
                  }
              });

              $('#yzm_input').blur(function () {
                  if($.trim($('#yzm_input').val())==''){
                      $('#yzm_error').html('请输入验证码').show();
                      yzm_error = true;
                  }else{
                      $('#yzm_error').hide();
                      yzm_error = false;
                  }
              });

              $('#change').css('cursor','pointer').click(function () {
                  $('#show').prop('src',$('#show').prop('src')+1);
              });

              $('#login_form').submit(function () {

                  if(name_error == false && pwd_error == false && yzm_error == false) {

                        return true;
                  }

                  else{

                        return false;
                  }
              });

        });
	</script>
{%endblock head%}

{%block body%}
	<div class="login_top clearfix">
		<a href="/user/" class="login_logo"><img src="/static/images/logo02.png"></a>
	</div>

	<div class="login_form_bg">
		<div class="login_form_wrap clearfix">
			<div class="login_banner fl"></div>
			<div class="slogan fl">日夜兼程 · 急速送达</div>
			<div class="login_form fr">
				<div class="login_title clearfix">
					<h1>用户登录</h1>
					<a href="/user/register/">立即注册</a>
				</div>
				<div class="form_input">
					<form action="/user/user_login_verify/" method="post" id="login_form">
						<input type="text" name="username" class="name_input"  value="{{ uname }}" placeholder="请输入用户名">
						<div class="user_error">输入错误</div>
						<input type="password" name="pwd" class="pass_input" value="{{ upwd }}" placeholder="请输入密码">
						<div class="pwd_error">输入错误</div>


                        <div>
                             <input type="text" name="yzm_value" id="yzm_input" placeholder="请输入验证码">
                             <img src="/user/verify_code/?1" alt="" id="show" class="fl"><span id="change">看不清 换一张</span>
                             <div id="yzm_error">输入错误</div>
                        </div>


						<div class="more_input clearfix">
							<input type="checkbox" name="jizhu" checked="checked" value="1">
							<label>记住用户名</label>
							<a href="#">忘记密码</a>
						</div>
						<input type="submit" name="" value="登录" class="input_submit">
					</form>
				</div>
			</div>
		</div>
	</div>

{%endblock body%}